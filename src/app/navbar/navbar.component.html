<div class="navBar browser" [ngClass]="{'noMargin' : !marginBack }">
    <div class="navOverlay" [ngClass]="{'fullBackground' : !marginBack }"></div>

    <div class="topNav">
        <div>
            <img (click)="setChapter()" routerLink="" src="../../assets/images/white.png" alt="loading">
        </div>
        <div class="topNavIcons">
            <a (click)="setChapter()" routerLink=""><i class="fa-sharp fa-solid fa-house"></i></a>
            <p>|</p>
            <a (click)="setChapter()" routerLink="search"><i class="fa-sharp fa-solid fa-magnifying-glass"></i></a>
            <p *ngIf="loggedIn">|</p>
            <a *ngIf="loggedIn" href={{loginEndpoint}}><i class="fa-sharp fa-solid fa-right-to-bracket"></i></a>
        </div>
    </div>
    <div class="middleNav">
        <a [ngClass]="{'active': reset === 'Basic Mechanics'}" routerLink="rules-reference/1" (mouseover)="viewChapter('Basic Mechanics')"
            (mouseout)="resetChapter()" (click)="setChapter(1)">1.1</a>
        <a [ngClass]="{'active': reset === 'Confrontations'}" routerLink="rules-reference/2" (mouseover)="viewChapter('Confrontations')"
            (mouseout)="resetChapter()" (click)="setChapter(2)">1.2</a>
        <a [ngClass]="{'active': reset === 'Combat'}" routerLink="rules-reference/3" (mouseover)="viewChapter('Combat')"
            (mouseout)="resetChapter()" (click)="setChapter(3)">1.3</a>
        <a [ngClass]="{'active': reset === 'Challenges'}" routerLink="rules-reference/4" (mouseover)="viewChapter('Challenges')"
            (mouseout)="resetChapter()" (click)="setChapter(4)">1.4</a>
        <a [ngClass]="{'active': reset === 'The Divine'}" routerLink="rules-reference/5" (mouseover)="viewChapter('The Divine')"
            (mouseout)="resetChapter()" (click)="setChapter(5)">1.5</a>
        <a [ngClass]="{'active': reset === 'The Weird'}" routerLink="rules-reference/6" (mouseover)="viewChapter('The Weird')"
            (mouseout)="resetChapter()" (click)="setChapter(6)">1.6</a>
        <a [ngClass]="{'active': reset === 'Misc. Rules'}" routerLink="rules-reference/7" (mouseover)="viewChapter('Misc. Rules')"
            (mouseout)="resetChapter()" (click)="setChapter(7)">1.7</a>
        <p>|</p>
        <a [ngClass]="{'active': reset === 'Step-by-Step Overview'}" routerLink="character-creation/1" (mouseover)="viewChapter('Step-by-Step Overview')"
            (mouseout)="resetChapter()" (click)="setChapter(8)">2.1</a>
        <a [ngClass]="{'active': reset === 'Ancestries'}" routerLink="character-creation/2" (mouseover)="viewChapter('Ancestries')"
            (mouseout)="resetChapter()" (click)="setChapter(9)">2.2</a>
        <a [ngClass]="{'active': reset === 'Classes'}" routerLink="character-creation/3" (mouseover)="viewChapter('Classes')"
            (mouseout)="resetChapter()" (click)="setChapter(10)">2.3</a>
        <a [ngClass]="{'active': reset === 'Burdens & Injuries'}" routerLink="character-creation/4" (mouseover)="viewChapter('Burdens & Injuries')"
            (mouseout)="resetChapter()" (click)="setChapter(11)">2.4</a>
        <a [ngClass]="{'active': reset === 'Skills'}" routerLink="character-creation/5" (mouseover)="viewChapter('Skills')"
            (mouseout)="resetChapter()" (click)="setChapter(12)">2.5</a>
        <a [ngClass]="{'active': reset === 'Equipment'}" routerLink="character-creation/6" (mouseover)="viewChapter('Equipment')"
            (mouseout)="resetChapter()" (click)="setChapter(13)">2.6</a>
        <a [ngClass]="{'active': reset === 'Character Progression'}" routerLink="character-creation/7" (mouseover)="viewChapter('Character Progression')"
            (mouseout)="resetChapter()" (click)="setChapter(14)">2.7</a>
    </div>
    <div class="bottomNav">
        <a *ngIf="reset !== ''" routerLink="{{perviousRoute}}" (click)="setChapter('p')" class="selectChapter side"><div><img src="../../assets/images/backButton.png" alt="back button" class="buttonImage">{{pervious}}</div></a>
        <p class="selectChapter">{{chapter}}</p>
        <a *ngIf="reset !== ''" routerLink="{{nextRoute}}" (click)="setChapter('n')" class="selectChapter side"><div>{{next}}<img src="../../assets/images/forwardButton.png" alt="forward button" class="buttonImage"></div></a>
    </div>

    <img src="../../assets/images/dragon.png" alt="dragon" class="heraldRight">
    <img src="../../assets/images/griffin.png" alt="griffin" class="heraldLeft">
</div>

<!-- MOBILE NAV -->

<div class="mobile">
    <div class="mobileShell">
        <div class="hamShell" (click)="openHam()">
            <div class="hamBar"></div>
            <div class="hamBar"></div>
            <div class="hamBar"></div>
        </div>

        <div class="navTitleShell" routerLink="/" (click)="setChapter()">
            <img src="../../assets/images/white.png" alt="bonfire white title" class="navTitleWords">
        </div>

        <i class="fa fa-search homeIcon" routerLink="/search" (click)="setChapter()"></i>
    </div>

    <div *ngIf="ham" class="navSelectShell">
        <h1 class="navX" (click)="openHam()">X</h1>
        <a [ngClass]="{'active': reset === ''}" routerLink="../"
            (mouseout)="resetChapter()" (click)="setChapter()"><i class="fa-sharp fa-solid fa-house"></i></a>
        <a [ngClass]="{'active': reset === 'Basic Mechanics'}" routerLink="rules-reference/1"
            (mouseout)="resetChapter()" (click)="setChapter(1)">1.1 Basic Mechanics</a>
        <a [ngClass]="{'active': reset === 'Confrontations'}" routerLink="rules-reference/2"
            (mouseout)="resetChapter()" (click)="setChapter(2)">1.2 Confrontations</a>
        <a [ngClass]="{'active': reset === 'Combat'}" routerLink="rules-reference/3"
            (mouseout)="resetChapter()" (click)="setChapter(3)">1.3 Combat</a>
        <a [ngClass]="{'active': reset === 'Challenges'}" routerLink="rules-reference/4"
            (mouseout)="resetChapter()" (click)="setChapter(4)">1.4 Challenges</a>
        <a [ngClass]="{'active': reset === 'The Divine'}" routerLink="rules-reference/5"
            (mouseout)="resetChapter()" (click)="setChapter(5)">1.5 The Divine</a>
        <a [ngClass]="{'active': reset === 'The Weird'}" routerLink="rules-reference/6"
            (mouseout)="resetChapter()" (click)="setChapter(6)">1.6 The Weird</a>
        <a [ngClass]="{'active': reset === 'Misc. Rules'}" routerLink="rules-reference/7"
            (mouseout)="resetChapter()" (click)="setChapter(7)">1.7 Misc. Rules</a>
            <div class="divid"></div>
        <a [ngClass]="{'active': reset === 'Step-by-Step Overview'}" routerLink="character-creation/1"
            (mouseout)="resetChapter()" (click)="setChapter(8)">2.1 Step-by-Step Overview</a>
        <a [ngClass]="{'active': reset === 'Ancestries'}" routerLink="character-creation/2"
            (mouseout)="resetChapter()" (click)="setChapter(9)">2.2 Ancestries</a>
        <a [ngClass]="{'active': reset === 'Classes'}" routerLink="character-creation/3"
            (mouseout)="resetChapter()" (click)="setChapter(10)">2.3 Classes</a>
        <a [ngClass]="{'active': reset === 'Burdens & Injuries'}" routerLink="character-creation/4"
            (mouseout)="resetChapter()" (click)="setChapter(11)">2.4 Burdens & Injuries</a>
        <a [ngClass]="{'active': reset === 'Skills'}" routerLink="character-creation/5"
            (mouseout)="resetChapter()" (click)="setChapter(12)">2.5 Skills</a>
        <a [ngClass]="{'active': reset === 'Equipment'}" routerLink="character-creation/6"
            (mouseout)="resetChapter()" (click)="setChapter(13)">2.6 Equipment</a>
        <a [ngClass]="{'active': reset === 'Character Progression'}" routerLink="character-creation/7"
            (mouseout)="resetChapter()" (click)="setChapter(14)">2.7 Character Progression</a>
    </div>
</div>

<div class="loadingIcon" *ngIf="loadIcon">
    <div>
        <img src="../../assets/images/icon.png" alt="loading">
    </div>
</div>
